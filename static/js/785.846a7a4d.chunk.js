"use strict";(self.webpackChunkvk_clone=self.webpackChunkvk_clone||[]).push([[785],{3221:function(e,t,n){n.d(t,{e:function(){return a}});var s=n(1413),r=(n(2791),n(6871)),i=n(4025),o=n(184);function a(e){return function(t){return(0,i.C)((function(e){return e.auth.isLogin}))?(0,o.jsx)(e,(0,s.Z)({},t)):(0,o.jsx)(r.Fg,{to:"/login"})}}},5785:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var s=n(885),r=n(2791),i=n(6030),o=n(3700),a="Profile_content__d0iGJ",c="Profile_first__column__+SpFi",l="Profile_first__column__info__ZJUEf",u="Profile_first__column__info__img__SNDFk",d="Profile_first__column__info__img_1__HFwto",f="Profile_second__column__VgSa4",m="Profile_description__4ZY3G",_="Profile_description__body__PlZd2",v="Profile_description__name__Wk3xE",x="Profile_description__status__jPd-d",j="Profile_description__details__H8icr",h="Profile_description__details__body__nnKct",p="Profile_description__details__key__nSZhd",g="Profile_description__details__value__1QKBO",b="Profile_input__JAzoF",k="Profile_posts__header__zA6If",N="Profile_empty__posts__GbnGY",y=n(6871),P=n(3221),Z=n(184),C=r.memo((function(e){var t=e.text,n=e.changeText,i=(0,r.useState)(t),o=(0,s.Z)(i,2),a=o[0],c=o[1],l=(0,r.useState)(!1),u=(0,s.Z)(l,2),d=u[0],f=u[1];(0,r.useEffect)((function(){return c(t),function(){c("")}}),[t]);var m=function(){n(a),c(t)};return(0,Z.jsx)(Z.Fragment,{children:d?(0,Z.jsx)("input",{autoFocus:!0,value:a,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){m(),f(!1)},onKeyDown:function(e){"Enter"===e.key&&m()}}):(0,Z.jsx)("span",{onDoubleClick:function(){f(!0)},children:a})})})),F=n(4025),I=n(1413),w=n(6961),L=n(9195),S=n(5970),B=r.memo((function(e){var t=e.profile,n=e.setEditMode,r=(0,L.cI)({defaultValues:{lookingForAJob:t.lookingForAJob,aboutMe:t.aboutMe,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,contacts:{github:t.contacts.github,vk:t.contacts.vk,facebook:t.contacts.facebook,instagram:t.contacts.instagram,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube,mainLink:t.contacts.mainLink}},criteriaMode:"all",mode:"onTouched"}),a=r.register,c=r.formState.errors,l=r.handleSubmit,u=(0,i.I0)(),d=l((function(e){u((0,o.UA)(e)),n(!1)})),f=function(e,t){return(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,children:t}),(0,Z.jsx)("input",(0,I.Z)({style:{border:"1px solid black",marginLeft:"5px"}},a(e)))]})},m=function(e,t,n,s){return(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,children:t}),(0,Z.jsx)("input",(0,I.Z)({style:{border:"1px solid black",marginLeft:"5px"}},a(e,{pattern:{value:/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/,message:"Incorrect url"}})))]})};return(0,Z.jsxs)("form",{onSubmit:d,className:w.Z.form,children:[f("lookingForAJobDescription","Dream Job"),f("fullName","Name"),f("aboutMe","About me"),m("contacts.github","Github"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.github",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.vk","VK"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.vk",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.facebook","Facebook"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.facebook",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.instagram","Instagram"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.instagram",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.twitter","Twitter"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.twitter",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.website","Website"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.website",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.youtube","Youtube"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.youtube",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),m("contacts.mainLink","MainLink"),(0,Z.jsx)(S.B,{errors:c,name:"contacts.mainLink",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,s.Z)(e,2),n=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},n)})):null}}),(0,Z.jsx)("button",{className:w.Z.button_login,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),O=r.memo((function(e){var t=e.title,n=e.value;return(0,Z.jsx)(Z.Fragment,{children:n&&(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,children:t}),(0,Z.jsx)("div",{className:g,children:(0,Z.jsx)("div",{children:n})})]})})})),A=r.memo((function(e){var t=e.profile;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O,{title:"\u041e\u0431\u043e \u043c\u043d\u0435",value:null===t||void 0===t?void 0:t.aboutMe}),(0,Z.jsx)(O,{title:"\u0420\u0430\u0431\u043e\u0442\u0430 \u043c\u0435\u0447\u0442\u044b",value:null===t||void 0===t?void 0:t.lookingForAJobDescription}),void 0!==t.contacts&&Object.keys(t.contacts).map((function(e){return(0,Z.jsx)(O,{title:e,value:t.contacts[e]},e)}))]})})),D="Post_post__8vvzw",J="Post_post__author__knQ1W",E="Post_post__body__le1Dg",M="Post_post__socials__aEYb6";var T=n.p+"static/media/like.5c13e055b21f80cda9612e73b58f1404.svg";var G=n.p+"static/media/liked.82d1f98a631639cd73b55ba333adf5a3.svg",K=r.memo((function(e){var t=e.text,n=e.likesCount,a=e.id,c=e.profileName,l=e.photo,u=(0,r.useState)(!1),d=(0,s.Z)(u,2),f=d[0],m=d[1],_=(0,i.I0)();return(0,Z.jsxs)("div",{className:D,children:[(0,Z.jsxs)("div",{className:J,children:[(0,Z.jsx)("img",{src:l||"/assets/img/avatar.jpg",alt:""}),(0,Z.jsx)("span",{children:c})]}),(0,Z.jsx)("div",{className:E,children:(0,Z.jsx)("p",{children:t})}),(0,Z.jsxs)("div",{className:M,children:[f?(0,Z.jsx)("img",{src:G,alt:"liked",style:{width:"24px",height:"24px"}}):(0,Z.jsx)("img",{onClick:function(){f||(_((0,o.n9)(a)),m(!0))},src:T,alt:"like",style:{marginRight:"2px"}}),n]})]})}));var U=n.p+"static/media/bin.447c1f0653bc242b980856f39333551a.svg",W=r.memo((function(e){var t=e.posts,n=e.profileName,s=e.photo;return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:k,children:t.length?"\u041c\u043e\u0438 \u0437\u0430\u043f\u0438\u0441\u0438":"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"}),(0,Z.jsx)("div",{children:t.length?t.map((function(e){return(0,Z.jsx)(K,{photo:s,profileName:n,id:e.id,text:e.text,likesCount:e.likesCount},e.id)})):(0,Z.jsxs)("div",{className:N,children:[(0,Z.jsx)("img",{src:U,alt:"bin"}),(0,Z.jsx)("span",{children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435 \u043d\u0435\u0442 \u043f\u043e\u043a\u0430 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"})]})})]})})),Y=n(4657),z=r.memo((function(e){var t=e.setPost,n=e.userImg,i=(0,r.useState)(""),o=(0,s.Z)(i,2),a=o[0],c=o[1],l=(0,r.useCallback)((function(e){c(e.currentTarget.value)}),[]);return(0,Z.jsxs)("div",{className:b,children:[!a&&(0,Z.jsx)("img",{src:n||Y,alt:"userLogo"}),(0,Z.jsx)("input",{value:a,onChange:l,onKeyPress:function(e){"Enter"===e.key&&a.trim()&&(t(a.trim()),c(""))},style:{width:"100%"},placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?"})]})})),Q=(0,P.e)((function(){var e,t,n=(0,y.UO)(),h=(0,F.C)((function(e){return e.auth.userData.id})),p=(0,r.useState)(!1),g=(0,s.Z)(p,2),b=g[0],k=g[1],N=Number(n.id)===h,P=(0,F.C)((function(e){return e.profile})),I=(0,F.C)((function(e){return e.profile.userInfo.photos})),w=(0,i.I0)(),L=(0,F.C)((function(e){return e.profile.isLoaded})),S=(0,F.C)((function(e){return e.profile.statusLoading}));(0,r.useEffect)((function(){return void 0!==n.id&&w((0,o.FQ)(n.id)),function(){w((0,o.RG)({})),w((0,o.Tf)("")),w((0,o.U9)()),w((0,o.W_)(!1))}}),[w,n.id]);var O=(0,r.useCallback)((function(e){w((0,o.js)(e))}),[w]),D=(0,r.useCallback)((function(e){w((0,o.q2)(e))}),[w]),J=(0,r.useCallback)((function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&w((0,o.rB)(e.target.files[0]))}),[w]);return L?(0,Z.jsxs)("div",{className:a,children:[(0,Z.jsx)("div",{className:c,children:(0,Z.jsxs)("div",{className:l,children:[N?(0,Z.jsx)("label",{htmlFor:"changeImg",children:(0,Z.jsx)("img",{src:(null===I||void 0===I?void 0:I.large)||Y,alt:"userLogo",className:u})}):(0,Z.jsx)("img",{src:(null===I||void 0===I?void 0:I.large)||Y,alt:"userLogo",className:d}),N&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("input",{type:"file",id:"changeImg",onChange:J}),(0,Z.jsx)("button",{onClick:function(){k(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("div",{className:_,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:v,children:P.userInfo.fullName}),(0,Z.jsx)("div",{className:x,children:N?S?"":(0,Z.jsx)(C,{text:P.status||"",changeText:O}):S?"":(0,Z.jsx)("span",{style:{width:"100%"},children:P.status})})]})}),(0,Z.jsx)("div",{className:j,children:b?(0,Z.jsx)(B,{profile:P.userInfo,setEditMode:k}):(0,Z.jsx)(A,{profile:null===P||void 0===P?void 0:P.userInfo})})]}),N&&(0,Z.jsx)(z,{setPost:D,userImg:null===(e=P.userInfo.photos)||void 0===e?void 0:e.small}),N?(0,Z.jsx)(W,{posts:P.posts,profileName:P.userInfo.fullName,photo:null===(t=P.userInfo.photos)||void 0===t?void 0:t.small}):(0,Z.jsx)(W,{posts:[]})]})]}):(0,Z.jsx)("div",{})}))}}]);
//# sourceMappingURL=785.846a7a4d.chunk.js.map