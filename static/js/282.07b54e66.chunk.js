"use strict";(self.webpackChunkvk_clone=self.webpackChunkvk_clone||[]).push([[282],{3221:function(e,t,s){s.d(t,{e:function(){return a}});var n=s(1413),r=(s(2791),s(6871)),i=s(4025),o=s(184);function a(e){return function(t){return(0,i.C)((function(e){return e.auth.isLogin}))?(0,o.jsx)(e,(0,n.Z)({},t)):(0,o.jsx)(r.Fg,{to:"/login"})}}},7282:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});var n=s(885),r=s(2791),i=s(6030),o=s(3700),a="Profile_content__d0iGJ",c="Profile_first__column__+SpFi",l="Profile_first__column__info__ZJUEf",u="Profile_first__column__info__img__SNDFk",d="Profile_first__column__info__img_1__HFwto",m="Profile_second__column__VgSa4",f="Profile_description__4ZY3G",_="Profile_description__body__PlZd2",v="Profile_description__name__Wk3xE",x="Profile_description__status__jPd-d",j="Profile_description__details__H8icr",h="Profile_description__details__body__nnKct",p="Profile_description__details__key__nSZhd",g="Profile_description__details__value__1QKBO",b="Profile_input__JAzoF",k="Profile_posts__header__zA6If",N="Profile_empty__posts__GbnGY",y=s(6871),P=s(3221),Z=s(184),C=r.memo((function(e){var t=e.text,s=e.changeText,i=(0,r.useState)(t),o=(0,n.Z)(i,2),a=o[0],c=o[1],l=(0,r.useState)(!1),u=(0,n.Z)(l,2),d=u[0],m=u[1];(0,r.useEffect)((function(){return c(t),function(){c("")}}),[t]);var f=function(){s(a),c(t)};return(0,Z.jsx)(Z.Fragment,{children:d?(0,Z.jsx)("input",{autoFocus:!0,value:a,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){f(),m(!1)},onKeyDown:function(e){"Enter"===e.key&&f()}}):(0,Z.jsx)("span",{onDoubleClick:function(){m(!0)},children:a})})})),w=s(4025),F=s(1413),I=s(6961),S=s(9195),B=s(5970),O=r.memo((function(e){var t=e.profile,s=e.setEditMode,r=(0,S.cI)({defaultValues:{lookingForAJob:t.lookingForAJob,aboutMe:t.aboutMe,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,contacts:{github:t.contacts.github,vk:t.contacts.vk,facebook:t.contacts.facebook,instagram:t.contacts.instagram,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube,mainLink:t.contacts.mainLink}},criteriaMode:"all",mode:"onTouched"}),a=r.register,c=r.formState.errors,l=r.handleSubmit,u=(0,i.I0)(),d=l((function(e){u((0,o.UA)(e)),s(!1)})),m=function(e,t){return(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,children:t}),(0,Z.jsx)("input",(0,F.Z)({style:{border:"1px solid black",marginLeft:"5px"}},a(e)))]})},f=function(e,t,s,n){return(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,children:t}),(0,Z.jsx)("input",(0,F.Z)({style:{border:"1px solid black",marginLeft:"5px"}},a(e,{pattern:{value:/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/,message:"Incorrect url"}})))]})};return(0,Z.jsxs)("form",{onSubmit:d,className:I.Z.form,children:[m("lookingForAJobDescription","Dream Job"),m("fullName","Name"),m("aboutMe","About me"),f("contacts.github","Github"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.github",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.vk","VK"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.vk",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.facebook","Facebook"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.facebook",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.instagram","Instagram"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.instagram",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.twitter","Twitter"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.twitter",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.website","Website"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.website",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.youtube","Youtube"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.youtube",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),f("contacts.mainLink","MainLink"),(0,Z.jsx)(B.B,{errors:c,name:"contacts.mainLink",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=(0,n.Z)(e,2),s=t[0],r=t[1];return(0,Z.jsx)("p",{style:{color:"red"},children:r},s)})):null}}),(0,Z.jsx)("button",{className:I.Z.button_login,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),L=r.memo((function(e){var t=e.title,s=e.value;return(0,Z.jsx)(Z.Fragment,{children:s&&(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("div",{className:p,style:{width:"75px"},children:t}),(0,Z.jsx)("div",{className:g,children:(0,Z.jsx)("div",{children:s})})]})})})),A=r.memo((function(e){var t=e.profile;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(L,{title:"\u041e\u0431\u043e \u043c\u043d\u0435",value:null===t||void 0===t?void 0:t.aboutMe}),void 0!==t.contacts&&Object.keys(t.contacts).map((function(e){return(0,Z.jsx)(L,{title:e,value:t.contacts[e]},e)}))]})})),D="Post_post__8vvzw",E="Post_post__author__knQ1W",J="Post_post__body__le1Dg",M="Post_post__socials__aEYb6",T=r.memo((function(e){var t=e.text,s=e.likesCount,a=e.id,c=e.profileName,l=(0,r.useState)(!1),u=(0,n.Z)(l,2),d=u[0],m=u[1],f=(0,i.I0)();return(0,Z.jsxs)("div",{className:D,children:[(0,Z.jsxs)("div",{className:E,children:[(0,Z.jsx)("img",{src:"/assets/img/avatar.jpg",alt:""}),(0,Z.jsx)("span",{children:c})]}),(0,Z.jsx)("div",{className:J,children:(0,Z.jsx)("p",{children:t})}),(0,Z.jsxs)("div",{className:M,children:[d?(0,Z.jsx)("img",{src:"/assets/svg/liked.svg",alt:"liked",style:{width:"24px",height:"24px"}}):(0,Z.jsx)("img",{onClick:function(){d||(f((0,o.n9)(a)),m(!0))},src:"/assets/svg/like.svg",alt:"like",style:{marginRight:"2px"}}),s]})]})})),G=r.memo((function(e){var t=e.posts,s=e.profileName;return(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:k,children:t.length?"\u041c\u043e\u0438 \u0437\u0430\u043f\u0438\u0441\u0438":"\u041d\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"}),(0,Z.jsx)("div",{children:t.length?t.map((function(e){return(0,Z.jsx)(T,{profileName:s,id:e.id,text:e.text,likesCount:e.likesCount},e.id)})):(0,Z.jsxs)("div",{className:N,children:[(0,Z.jsx)("img",{src:"/assets/svg/bin.svg",alt:""}),(0,Z.jsx)("span",{children:"\u041d\u0430 \u0441\u0442\u0435\u043d\u0435 \u043d\u0435\u0442 \u043f\u043e\u043a\u0430 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438"})]})})]})})),K=r.memo((function(e){var t=e.setPost,s=e.userImg,i=(0,r.useState)(""),o=(0,n.Z)(i,2),a=o[0],c=o[1],l=(0,r.useCallback)((function(e){c(e.currentTarget.value)}),[]);return(0,Z.jsxs)("div",{className:b,children:[!a&&(0,Z.jsx)("img",{src:s||"/assets/img/avatar.jpg",alt:""}),(0,Z.jsx)("input",{value:a,onChange:l,onKeyPress:function(e){"Enter"===e.key&&a.trim()&&(t(a.trim()),c(""))},style:{width:"100%"},placeholder:"\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?"})]})})),U=(0,P.e)((function(){var e,t=(0,y.UO)(),s=(0,w.C)((function(e){return e.auth.userData.id})),h=(0,r.useState)(!1),p=(0,n.Z)(h,2),g=p[0],b=p[1],k=Number(t.id)===s,N=(0,w.C)((function(e){return e.profile})),P=(0,w.C)((function(e){return e.profile.userInfo.photos})),F=(0,i.I0)(),I=(0,w.C)((function(e){return e.profile.isLoaded})),S=(0,w.C)((function(e){return e.profile.statusLoading}));(0,r.useEffect)((function(){return void 0!==t.id&&F((0,o.FQ)(t.id)),function(){F((0,o.RG)({})),F((0,o.Tf)("")),F((0,o.U9)()),F((0,o.W_)(!1))}}),[F,t.id]);var B=(0,r.useCallback)((function(e){F((0,o.js)(e))}),[F]),L=(0,r.useCallback)((function(e){F((0,o.q2)(e))}),[F]),D=(0,r.useCallback)((function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&F((0,o.rB)(e.target.files[0]))}),[F]);return I?(0,Z.jsxs)("div",{className:a,children:[(0,Z.jsx)("div",{className:c,children:(0,Z.jsxs)("div",{className:l,children:[k?(0,Z.jsx)("label",{htmlFor:"changeImg",children:(0,Z.jsx)("img",{src:(null===P||void 0===P?void 0:P.large)||"/assets/img/avatar.jpg",alt:"",className:u})}):(0,Z.jsx)("img",{src:(null===P||void 0===P?void 0:P.large)||"/assets/img/avatar.jpg",alt:"",className:d}),k&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("input",{type:"file",id:"changeImg",onChange:D}),(0,Z.jsx)("button",{onClick:function(){b(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsxs)("div",{className:f,children:[(0,Z.jsx)("div",{className:_,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{className:v,children:N.userInfo.fullName}),(0,Z.jsx)("div",{className:x,children:k?S?"":(0,Z.jsx)(C,{text:N.status||"",changeText:B}):S?"":(0,Z.jsx)("span",{style:{width:"100%"},children:N.status})})]})}),(0,Z.jsx)("div",{className:j,children:g?(0,Z.jsx)(O,{profile:N.userInfo,setEditMode:b}):(0,Z.jsx)(A,{profile:null===N||void 0===N?void 0:N.userInfo})})]}),k&&(0,Z.jsx)(K,{setPost:L,userImg:null===(e=N.userInfo.photos)||void 0===e?void 0:e.small}),k?(0,Z.jsx)(G,{posts:N.posts,profileName:N.userInfo.fullName}):(0,Z.jsx)(G,{posts:[]})]})]}):(0,Z.jsx)("div",{})}))}}]);
//# sourceMappingURL=282.07b54e66.chunk.js.map