"use strict";(self.webpackChunkvk_clone=self.webpackChunkvk_clone||[]).push([[251],{3221:function(e,n,r){r.d(n,{e:function(){return c}});var t=r(1413),s=(r(2791),r(6871)),i=r(4025),u=r(184);function c(e){return function(n){return(0,i.C)((function(e){return e.auth.isLogin}))?(0,u.jsx)(e,(0,t.Z)({},n)):(0,u.jsx)(s.Fg,{to:"/login"})}}},5251:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t=r(1413),s=r(885),i=r(2791),u="Users_content__5k+U+",c="Users_body__G7hJX",l="Users_user__sxjid",o="Users_user__logo__d7MZA",f="Users_user__body__4HLHO",a="Users_user__name__Bp0T1",d="Users_user__button__QBdpi",m="Users_user__button__isLoading__zBsjs",_="Users_form__fg+nk",v=r(4025),h=r(6030),j=r(5981),x=r(3504),g=r(4657),p=r(184),Z=i.memo((function(e){var n=e.img,r=e.name,t=e.isFollowed,s=e.id,i=(0,h.I0)(),u=(0,v.C)((function(e){return e.users.isFollowingInProgress}));return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(x.OL,{to:"/profile/".concat(s),children:(0,p.jsx)("img",{className:o,src:n||g,alt:"UserLogo"})}),(0,p.jsxs)("div",{className:f,children:[(0,p.jsx)(x.OL,{to:"/profile/".concat(s),children:(0,p.jsx)("span",{className:a,children:r})}),t?(0,p.jsx)("span",{className:"".concat(d," ").concat(u.id===s?m:""),onClick:function(){i((0,j.FX)(s))},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,p.jsx)("span",{className:"".concat(d," ").concat(u.id===s?m:""),onClick:function(){i((0,j.$9)(s))},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]})})),b=r(3221),k=r(7781),C=r(9195),N=i.memo((function(e){var n=e.filter,r=e.changeFilter,s=(0,C.cI)({criteriaMode:"all",defaultValues:{term:n.term,friend:JSON.stringify(n.friend)}}),u=s.register,c=s.handleSubmit,l=s.setValue,o=c((function(e){var n="null"===e.friend?null:"true"===e.friend;r({term:e.term,friend:n})}));return(0,i.useEffect)((function(){var e=null===n.friend?"null":JSON.stringify(n.friend);n&&(l("term",n.term),l("friend",e))}),[n]),(0,p.jsx)("form",{onSubmit:o,children:(0,p.jsxs)("div",{className:_,children:[(0,p.jsx)("input",(0,t.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},u("term"))),(0,p.jsxs)("select",(0,t.Z)((0,t.Z)({},u("friend")),{},{children:[(0,p.jsx)("option",{value:"null",children:"\u0412\u0441\u0435"}),(0,p.jsx)("option",{value:"true",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,p.jsx)("option",{value:"false",children:"\u0414\u0440\u0443\u0433\u0438\u0435"})]})),(0,p.jsx)("button",{className:"button_find",children:"\u041d\u0430\u0439\u0442\u0438"})]})})}));var U=(0,k.qC)(b.e)((function(){var e=(0,i.useRef)(),n=(0,h.I0)(),r=(0,v.C)((function(e){return e.users.page})),l=(0,v.C)((function(e){return e.users.totalItems})),o=(0,v.C)((function(e){return e.users.users})),f=(0,v.C)((function(e){return e.users.filter})),a=(0,x.lr)(),d=(0,s.Z)(a,2),m=d[0],_=d[1],g=(0,i.useState)(!1),b=(0,s.Z)(g,2),k=b[0],C=b[1],U=(0,i.useState)(!1),E=(0,s.Z)(U,2),w=E[0],F=E[1],S=function(e){var n=(0,i.useState)(!1),r=(0,s.Z)(n,2),t=r[0],u=r[1],c=(0,i.useRef)(null);return(0,i.useEffect)((function(){c.current=new IntersectionObserver((function(e){var n=(0,s.Z)(e,1)[0];return u(n.isIntersecting)}))}),[]),(0,i.useEffect)((function(){var n;return null===(n=c.current)||void 0===n||n.observe(e.current),function(){var e;null===(e=c.current)||void 0===e||e.disconnect()}}),[e]),t}(e);(0,i.useEffect)((function(){var e=Object.fromEntries(m),r=f;switch(e.term&&(r=(0,t.Z)((0,t.Z)({},r),{},{term:e.term})),e.friend){case"null":r=(0,t.Z)((0,t.Z)({},r),{},{friend:null});break;case"true":r=(0,t.Z)((0,t.Z)({},r),{},{friend:!0});break;case"false":r=(0,t.Z)((0,t.Z)({},r),{},{friend:!1})}n((0,j.uh)(1,r))}),[n]),(0,i.useEffect)((function(){var e={};f.term&&(e.term=f.term),null!==f.friend&&(e.friend=String(f.friend)),_({term:e.term?e.term:"",friend:e.friend?e.friend:null})}),[f]),(0,i.useEffect)((function(){return function(){n((0,j.B4)()),n((0,j.Tv)({term:"",friend:null})),n((0,j.YA)(1))}}),[]),(0,i.useEffect)((function(){k?w?n((0,j.uh)(r,f)):F(!0):C(!0)}),[f,r]),(0,i.useEffect)((function(){r<Math.ceil(l/10)&&S&&n((0,j.YA)(r+1))}),[S]);var I=(0,i.useCallback)((function(e){n((0,j.Tv)(e)),n((0,j.YA)(1)),n((0,j.B4)())}),[n,f]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(N,{changeFilter:I,filter:f}),(0,p.jsx)("div",{className:u,children:(0,p.jsxs)("div",{className:c,children:[o.map((function(e){var n;return(0,p.jsx)(Z,{img:null===(n=e.photos)||void 0===n?void 0:n.small,name:e.name,isFollowed:e.followed,id:e.id},e.id)})),(0,p.jsx)("div",{ref:e})]})})]})}))}}]);
//# sourceMappingURL=251.096e9e47.chunk.js.map