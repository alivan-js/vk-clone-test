"use strict";(self.webpackChunkvk_clone=self.webpackChunkvk_clone||[]).push([[251],{3221:function(e,n,r){r.d(n,{e:function(){return c}});var t=r(1413),s=(r(2791),r(6871)),i=r(4025),u=r(184);function c(e){return function(n){return(0,i.C)((function(e){return e.auth.isLogin}))?(0,u.jsx)(e,(0,t.Z)({},n)):(0,u.jsx)(s.Fg,{to:"/login"})}}},5251:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});var t=r(1413),s=r(885),i=r(2791),u="Users_content__5k+U+",c="Users_body__G7hJX",l="Users_user__sxjid",o="Users_user__logo__d7MZA",a="Users_user__body__4HLHO",f="Users_user__name__Bp0T1",d="Users_user__button__QBdpi",m="Users_user__button__isLoading__zBsjs",_=r(4025),h=r(6030),v=r(5981),j=r(3504),x=r(184),g=i.memo((function(e){var n=e.img,r=e.name,t=e.isFollowed,s=e.id,i=(0,h.I0)(),u=(0,_.C)((function(e){return e.users.isFollowingInProgress}));return(0,x.jsxs)("div",{className:l,children:[(0,x.jsx)(j.OL,{to:"/profile/".concat(s),children:(0,x.jsx)("img",{className:o,src:n||"/assets/img/avatar.jpg",alt:"UserLogo"})}),(0,x.jsxs)("div",{className:a,children:[(0,x.jsx)(j.OL,{to:"/profile/".concat(s),children:(0,x.jsx)("span",{className:f,children:r})}),t?(0,x.jsx)("span",{className:"".concat(d," ").concat(u.id===s?m:""),onClick:function(){i((0,v.FX)(s))},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,x.jsx)("span",{className:"".concat(d," ").concat(u.id===s?m:""),onClick:function(){i((0,v.$9)(s))},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]})})),p=r(3221),b=r(7781),Z=r(9195),C=i.memo((function(e){var n=e.filter,r=e.changeFilter,s=(0,Z.cI)({criteriaMode:"all",defaultValues:{term:n.term,friend:JSON.stringify(n.friend)}}),i=s.register,u=(0,s.handleSubmit)((function(e){var n="null"===e.friend?null:"true"===e.friend;r({term:e.term,friend:n})}));return(0,x.jsx)("form",{onSubmit:u,children:(0,x.jsxs)("div",{style:{backgroundColor:"white",height:"50px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 200px"},children:[(0,x.jsx)("input",(0,t.Z)({placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},i("term"))),(0,x.jsxs)("select",(0,t.Z)((0,t.Z)({},i("friend")),{},{children:[(0,x.jsx)("option",{value:"null",children:"\u0412\u0441\u0435"}),(0,x.jsx)("option",{value:"true",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,x.jsx)("option",{value:"false",children:"\u0414\u0440\u0443\u0433\u0438\u0435"})]})),(0,x.jsx)("button",{className:"button_find",children:"\u041d\u0430\u0439\u0442\u0438"})]})})}));var k=(0,b.qC)(p.e)((function(){var e=(0,i.useRef)(),n=(0,h.I0)(),r=(0,_.C)((function(e){return e.users.page})),l=(0,_.C)((function(e){return e.users.totalItems})),o=(0,_.C)((function(e){return e.users.users})),a=(0,_.C)((function(e){return e.users.filter})),f=(0,j.lr)(),d=(0,s.Z)(f,2),m=d[0],p=d[1],b=(0,i.useState)(!1),Z=(0,s.Z)(b,2),k=Z[0],w=Z[1],N=function(e){var n=(0,i.useState)(!1),r=(0,s.Z)(n,2),t=r[0],u=r[1],c=(0,i.useRef)(null);return(0,i.useEffect)((function(){c.current=new IntersectionObserver((function(e){var n=(0,s.Z)(e,1)[0];return u(n.isIntersecting)}))}),[]),(0,i.useEffect)((function(){return c.current.observe(e.current),function(){c.current.disconnect()}}),[e]),t}(e);(0,i.useEffect)((function(){var e=Object.fromEntries(m),r=a;switch(e.term&&(r=(0,t.Z)((0,t.Z)({},r),{},{term:e.term})),e.friend){case"null":r=(0,t.Z)((0,t.Z)({},r),{},{friend:null});break;case"true":r=(0,t.Z)((0,t.Z)({},r),{},{friend:!0});break;case"false":r=(0,t.Z)((0,t.Z)({},r),{},{friend:!1})}n((0,v.uh)(1,r))}),[n]),(0,i.useEffect)((function(){var e={};a.term&&(e.term=a.term),null!==a.friend&&(e.friend=String(a.friend)),p({term:e.term?e.term:"",friend:e.friend?e.friend:null})}),[a]),(0,i.useEffect)((function(){return function(){n((0,v.B4)()),n((0,v.Tv)({term:"",friend:null})),n((0,v.YA)(1))}}),[]),(0,i.useEffect)((function(){k?n((0,v.uh)(r,a)):w(!0)}),[a,r]),(0,i.useEffect)((function(){r<Math.ceil(l/10)&&N&&n((0,v.YA)(r+1))}),[N]);var U=(0,i.useCallback)((function(e){n((0,v.Tv)(e)),n((0,v.YA)(1)),n((0,v.B4)())}),[n,a]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(C,{changeFilter:U,filter:a}),(0,x.jsx)("div",{className:u,children:(0,x.jsxs)("div",{className:c,children:[o.map((function(e){var n;return(0,x.jsx)(g,{img:null===(n=e.photos)||void 0===n?void 0:n.small,name:e.name,isFollowed:e.followed,id:e.id},e.id)})),(0,x.jsx)("div",{ref:e})]})})]})}))}}]);
//# sourceMappingURL=251.01140d62.chunk.js.map